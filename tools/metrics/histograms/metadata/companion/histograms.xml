<!--
Copyright 2023 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of Signin histograms
along with a detailed description for each histogram.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please follow the instructions in the OWNERS file in this directory to find a
reviewer. If no OWNERS file exists, please consider signing up at
go/reviewing-metrics (Googlers only), as all subdirectories are expected to
have an OWNERS file. As a last resort you can send the CL to
chromium-metrics-reviews@google.com.
-->

<histogram-configuration>

<histograms>

<variants name="UiSurface">
  <variant name="ATX"/>
  <variant name="CQ"/>
  <variant name="PageEntities"/>
  <variant name="PH"/>
  <variant name="PHResult"/>
  <variant name="RegionSearch"/>
  <variant name="RelQr"/>
  <variant name="RelQs"/>
  <variant name="SearchBox"/>
  <variant name="VQ"/>
</variants>

<histogram name="Companion.CQ.TextHighlight.Success" enum="BooleanSuccess"
    expires_after="2023-10-20">
  <owner>junzou@chromium.org</owner>
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records whether a text highlight operation was successful on the companion
    page. Recorded after text highlighting is completed.
  </summary>
</histogram>

<histogram name="Companion.FullLoad.Latency" units="ms"
    expires_after="2023-10-20">
  <owner>mcrouse@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the latency of Companion for full loads of the UI. Recorded once the
    UI responds and reports the first element is shown.
  </summary>
</histogram>

<histogram name="Companion.HasNavigatedToExpsSuccessPagePref.OnChanged"
    enum="Boolean" expires_after="2023-10-20">
  <owner>tbansal@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records value of the Exps Policy Pref. That pref contains boolean on whether
    companion featureobserved successful exps registration. Recorded after the
    value of pref has changed.
  </summary>
</histogram>

<histogram name="Companion.HasNavigatedToExpsSuccessPagePref.Status"
    enum="Boolean" expires_after="2023-10-20">
  <owner>tbansal@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records value of the Exps Policy Pref. Recorded when the pref is read.
  </summary>
</histogram>

<histogram name="Companion.IsUserOptedInToExps" enum="BooleanOptedIn"
    expires_after="2023-10-20">
  <owner>tbansal@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records whether user is opted-in to various experiments. Recorded when the
    information is received from the companion backend.
  </summary>
</histogram>

<histogram name="Companion.NavigationLoad.Latency" units="ms"
    expires_after="2023-10-20">
  <owner>mcrouse@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the latency of Companion for loads of the UI that are triggered by
    navigation refreshes via PostMessages. Recorded once the UI responds and
    reports the first element is shown.
  </summary>
</histogram>

<histogram name="Companion.PHFeedback.Result" enum="Companion.PhFeedback"
    expires_after="2023-10-20">
  <owner>mcrouse@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the last PH feedback submitted by the user for the current page.
    Recorded at the once the companion is reloaded or closed.
  </summary>
</histogram>

<histogram name="Companion.PromoEvent" enum="Companion.PromoEvent"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records various events (e.g. displayed, accepted or rejected) on various
    promo surfaces on the companion page. Recorded as soon as the event happens.
  </summary>
</histogram>

<histogram name="Companion.SidePanel.OpenTrigger" enum="SidePanelOpenTrigger"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the UI location from which the companion side panel was triggered to
    be opened. Recorded after the companion is opened and loaded.
  </summary>
</histogram>

<histogram name="Companion.SidePanelAvailabilityChanged"
    enum="CompanionSidePanelAvailabilityChanged" expires_after="2023-10-20">
  <owner>tbansal@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records change in availability of the Companion side panel based on finch
    and runtime checks. Recorded everytime the availability computation is run.
  </summary>
</histogram>

<histogram name="Companion.{UiSurface}.ChildElementCount" units="Index"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the number of child elements shown within the UI surface. Only valid
    for list UI surfaces. Recorded as soon as the surface is shown.
  </summary>
  <token key="UiSurface" variants="UiSurface"/>
</histogram>

<histogram name="Companion.{UiSurface}.Clicked" enum="BooleanClicked"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records whether {UiSurface} was clicked by the user on the companion page.
    Recorded as soon as the surface is clicked.
  </summary>
  <token key="UiSurface" variants="UiSurface"/>
</histogram>

<histogram name="Companion.{UiSurface}.ClickPosition" units="Index"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records the position of the UI element that was clicked with respect to its
    parent list. Recorded as soon as the surface is clicked.
  </summary>
  <token key="UiSurface" variants="UiSurface"/>
</histogram>

<histogram name="Companion.{UiSurface}.Shown" enum="BooleanShown"
    expires_after="2023-10-20">
  <owner>shaktisahu@chromium.org</owner>
  <owner>src/chrome/browser/companion/OWNERS</owner>
  <summary>
    Records whether {UiSurface} was shown on the companion page. Recorded as
    soon as the surface is shown.
  </summary>
  <token key="UiSurface" variants="UiSurface"/>
</histogram>

</histograms>

</histogram-configuration>
